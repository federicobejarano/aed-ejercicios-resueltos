/*

Ejercicio 4.1¶
Diseñar un algoritmo para acceder, eliminar o insertar el k-ésimo elemento de una lista
(siendo k una posición dada). Si la lista está vacía o si el valor de k esta fuera del rango
del índice de la lista, invocar al procedimiento de ERROR. En cualquier otro caso, efectuar
el procedimiento solicitado.

*/

ACCION 4.1 (prim : puntero a Nodo) ES

    AMBIENTE

        Nodo = Registro
            Dato : AN(6)
            Prox : puntero a Nodo
        FinReg

        d : AN(6)
        k : entero
        p, b : puntero a Nodo
        opcion : (1..3) // valores del menú

        Procedimiento Error(n : (0..1)) ES
            Segun n Hacer
                = 0 : ESC("ERROR: Lista vacía")
                = 1 : ESC("ERROR: Valor fuera de rango")
            FinSegun
        FinProcedimiento

        Procedimiento Buscar(k : entero) ES
            p := prim
            posicion := 1

            Si p = NIL entonces
                Error(0)
            Sino
                Mientras (p <> NIL) Y (posicion < k) Hacer  
                    p := p.Prox
                    posicion := posicion + 1
                FinMientras

                Si p = NIL entonces
                    Error(1)
                Sino 
                    b := p
                FinSi
            FinSi 
        FinProcedimiento

        Procedimiento Mostrar (k : entero)

            b := NIL
            Buscar(k)

            Si b <> NIL entonces
                ESC("Dato en posicion ", k, ": ", *p.Dato)
            FinSi
        FinProcedimiento

        Procedimiento Eliminar (k : entero)

            b := NIL
            Buscar(k)

            Si b <> NIL entonces
                p := prim
                
                
                Para i:= 1 Hasta k Hacer
                    p := *p.Prox
                FinPara

                Si p.Prox <> NIL entonces
                    
            FinSi

        FinProcedimiento
        
        Procedimiento Insertar (d : AN(6))
            // completar
        FinProcedimiento

        Procedimiento ERROR () ES
            // completar
        FinProcedimiento

    PROCESO

        p := prim

        Si p <> NIL entonces
            k := 1
        FinSi

        p.Posicion := 1
        q := prim // recorrer lista


        ESC("Elija una acción:")
        ESC("1 - Acceder a dato en nodo")
        ESC("2 - Eliminar nodo")
        ESC("3 - Insertar nodo")

        Leer(opcion)

        Segun opcion Hacer
            = 1 :   ESC("Especifique posición del elemento a buscar: ")
                    Leer(k)
                    Mostrar(k)
            = 2 :   ESC("Especifique posición del elemento a eliminar: ")
                    Leer(k)
                    Eliminar(k)
            = 3 :   ESC("Especifique valor del elemento a insertar: ")
                    Leer(dato)
                    Insertar(dato)
            = otros : 
        FinSegun
FinAccion

